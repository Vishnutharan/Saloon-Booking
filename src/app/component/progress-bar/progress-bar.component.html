<div class="progress-bar-container flex justify-between items-center mb-8 p-4 bg-gray-100 rounded-lg shadow-sm">
  <div *ngFor="let stepItem of steps; let i = index; let isLast = last"
       class="progress-step flex flex-col items-center text-center text-gray-500 relative flex-1"
       [ngClass]="getStepClass(stepItem)">

    <!-- Circle -->
    <div class="step-circle w-[30px] h-[30px] rounded-full bg-gray-400 text-white flex items-center justify-center font-bold mb-2 transition-colors duration-300 ease-in-out z-10"
         [ngClass]="{
           'bg-blue-500': getStepClass(stepItem) === 'active',
           'bg-green-500': getStepClass(stepItem) === 'completed'
         }">
      {{ getStepClass(stepItem) === 'completed' && stepItem.icon ? stepItem.icon : stepItem.step }}
    </div>

    <!-- Label -->
    <div class="step-label text-xs sm:text-sm transition-colors duration-300 ease-in-out"
         [ngClass]="{
           'text-blue-600 font-medium': getStepClass(stepItem) === 'active',
           'text-green-600': getStepClass(stepItem) === 'completed'
         }">
      {{ stepItem.label }}
    </div>

    <!-- Connector Line (using pseudo-element in CSS) -->
     <div *ngIf="!isLast" class="progress-connector"></div>
  </div>
</div>